<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <style>
	body {
	  font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;
	  margin: auto;
	  position: relative;
	  width: 960px;
	}

	text {
	  font: 10px sans-serif;
	}

	form {
	  position: absolute;
	  right: 10px;
	  top: 10px;
	}
    </style>
  </head>
  <body>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.6/d3.min.js" charset="utf-8"></script>
    <script>
     var dataset = {
	  layer1: [53245, 28479, 19697, 24037, 40245],

	};
     var Index=1;

	var width = 460,
	    height = 300,
	    cwidth = 25;

	var color = d3.scale.category20();

	var pie = d3.layout.pie()
	    .sort(null);

	var arc = d3.svg.arc();
        var clickFunktion=function(){
                alert('hi');
		svg = d3.select("body").append("svg")
	    	 .attr("width", width)
	    	 .attr("height", height)
	   	 .append("g")
	       	 .attr("transform", "translate(" + width / 2 + "," + height / 2 + ")");
                Index++;
		dataset["layer"+Index]=dataset.layer1;
		gs = svg.selectAll("g").data(d3.values(dataset)).enter().append("g");
		path = gs.selectAll("path")
	    	.data(function(d) { return pie(d); })
	  	.enter().append("path")
	    	.attr("fill", function(d, i) { return color(i); })
	   	.attr("d", function(d, i, j) { return arc.innerRadius(10+cwidth*j).outerRadius(cwidth*(j+1))(d); })
	    	.on('click', clickFunktion);
	    }

	var svg = d3.select("body").append("svg")
	    .attr("width", width)
	    .attr("height", height)
	    .append("g")
	    .attr("transform", "translate(" + width / 2 + "," + height / 2 + ")");

	var gs = svg.selectAll("g").data(d3.values(dataset)).enter().append("g");
	var path = gs.selectAll("path")
	    .data(function(d) { return pie(d); })
	  .enter().append("path")
	    .attr("fill", function(d, i) { return color(i); })
	    .attr("d", function(d, i, j) { return arc.innerRadius(10+cwidth*j).outerRadius(cwidth*(j+1))(d); })
	    .on('click', clickFunktion);
    </script>
  </body>
</html>
